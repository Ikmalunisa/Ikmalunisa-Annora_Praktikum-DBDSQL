create database akademik;

USE AKADEMIK;

create table FAKULTAS(
ID_FAKULTAS smallint primary key,
FAKULTAS VARCHAR(45)
);

create table STRATA(
ID_STRATA smallint primary key,
SINGKAT VARCHAR(10),
STRATA VARCHAR(45)
);

create table SELEKSI_MASUK(
ID_SELEKSI_MASUK smallint primary key,
SINGKAT VARCHAR(12),
SELEKSI_MASUK VARCHAR(60)
);

create table JURUSAN(
ID_JURUSAN smallint primary key,
ID_FAKULTAS smallint,
foreign key (ID_FAKULTAS) references FAKULTAS(ID_FAKULTAS),
JURUSAN VARCHAR(45)
);

create table PROGRAM_STUDI(
ID_PROGRAM_STUDI smallint primary key,
ID_STRATA smallint,
foreign key (ID_STRATA) references STRATA(ID_STRATA),
ID_JURUSAN smallint,
foreign key (ID_JURUSAN) references JURUSAN(ID_JURUSAN),
PROGRAM_STUDI VARCHAR(60)
);

create table MAHASISWA(
NIM VARCHAR(15) primary key,
ID_SELEKSI_MASUK smallint,
foreign key (ID_SELEKSI_MASUK) references SELEKSI_MASUK(ID_SELEKSI_MASUK),
ID_PROGRAM_STUDI smallint,
foreign key (ID_PROGRAM_STUDI) references PROGRAM_STUDI(ID_PROGRAM_STUDI),
NAMA VARCHAR(45),
ANGKATAN smallint,
TGL_LAHIR DATE,
KOTA_LAHIR VARCHAR(60),
JENIS_KELAMIN CHAR(1)
);


SELECT *
FROM FAKULTAS

INSERT INTO FAKULTAS (ID_FAKULTAS, FAKULTAS)
VALUES 
	(1, 'Ekonomi & Bisnis'),
	(2, 'Ilmu Komputer')
	
INSERT INTO STRATA (ID_STRATA, SINGKAT, STRATA)
VALUES 
	(1, 'D1', 'Diploma'),
	(2, 'S1', 'Sarjana'),
	(3, 'S2', 'Magister')
	
INSERT INTO SELEKSI_MASUK (ID_SELEKSI_MASUK, SINGKAT, SELEKSI_MASUK)
VALUES 
	(1, 'SNMPTN', 'SELEKSI NASIONAL MAHASISWA PERGURUAN TINGGI'),
	(2, 'SBMPTN', 'SELEKSI BERSAMA MAHASISWA PERGURUAN TINGGI NEGERI')
	
UPDATE SELEKSI_MASUK
SET SELEKSI_MASUK = 'SELEKSI NASIONAL MAHASISWA PERGURUAN TINGGI NEGERI'
WHERE ID_SELEKSI_MASUK = 1

INSERT INTO JURUSAN (ID_JURUSAN, ID_FAKULTAS, JURUSAN)
VALUES 
	(21, 2, 'Informatika'),
	(22, 2, 'Sistem Informasi'),
	(23, 2, 'Magister Ilmu Komputer')
	
INSERT INTO PROGRAM_STUDI (ID_PROGRAM_STUDI, ID_STRATA, ID_JURUSAN, PROGRAM_STUDI)
VALUES
	(211, 2, 21, 'Teknik Informatika'),
	(212, 2, 21, 'Teknik Komputer'),
	(219, 3, 21, 'Magister Ilmu Komputer')
	
DELETE FROM PROGRAM_STUDI
WHERE ID_PROGRAM_STUDI = 219

INSERT INTO MAHASISWA (NIM, ID_SELEKSI_MASUK, ID_PROGRAM_STUDI, NAMA, ANGKATAN, TGL_LAHIR, KOTA_LAHIR, JENIS_KELAMIN)
VALUES
	(155150400, 1, 211, 'JONI', '2015', '1997-1-1', 'Malang', 'M'),
	(155150401, 2, 212, 'JONO', '2015', '1997-10-2', 'Situbondo', 'F')
	
ALTER TABLE MAHASISWA
MODIFY JENIS_KELAMIN CHAR(1) CHECK (JENIS_KELAMIN IN ('W','P'))

UPDATE MAHASISWA
SET JENIS_KELAMIN = 'W'
WHERE NIM = 155150400

UPDATE MAHASISWA
SET JENIS_KELAMIN = 'P'
WHERE NIM = 155150401

show databases;
